{% set posts = __SELF__.getRecentPosts() %}

<table class="forum-table">
    <tr>
        <th>Messages</th>
        <th class="activity-column">Quand</th>
    </tr>

    {% for post in posts %}
        {% set topic = post.topic %}
        <tr class="forum-topic">
            <td>
                {{ html_limit(post.content_html, 100)|raw }}
            </td>
            <td class="activity-column">
                <p>
                    Publié sur
                    <a href="{{ topic.url }}?page=last#post-{{ post.id }}">{{ topic.subject }}</a>
                    {% partial __SELF__ ~ "::timestamp" date=post.updated_at %}
                </p>
            </td>
        </tr>
    {% endfor %}

    {% if not posts|length %}
        <tr>
            <td colspan="100">Ce membre n'a pas encore participé au forum.</td>
        </tr>
    {% endif %}
</table>
